<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>List and Tree Widgets · Gtk.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../../versions.js"></script></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="Gtk.jl logo"/></a><h1>Gtk.jl</h1><form class="search" action="../search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="gettingStarted.html">Getting Started</a></li><li><a class="toctext" href="properties.html">Properties</a></li><li><a class="toctext" href="layout.html">Layout</a></li><li><a class="toctext" href="signals.html">Signals and Callbacks</a></li><li><a class="toctext" href="builder.html">Builder and Glade</a></li><li><a class="toctext" href="textwidgets.html">Text Widgets</a></li><li><a class="toctext" href="combobox.html">Combobox</a></li><li class="current"><a class="toctext" href="listtreeview.html">List and Tree Widgets</a><ul class="internal"><li><a class="toctext" href="#List-Store-1">List Store</a></li><li><a class="toctext" href="#List-View-1">List View</a></li><li><a class="toctext" href="#selection-1">selection</a></li><li><a class="toctext" href="#Tree-Widget-1">Tree Widget</a></li></ul></li><li><a class="toctext" href="filedialogs.html">File Dialogs</a></li><li><a class="toctext" href="canvas.html">Drawing on Canvas</a></li><li><a class="toctext" href="customWidgets.html">Custom/Composed Widgets</a></li><li><a class="toctext" href="nonreplusage.html">Non REPL Usage</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="listtreeview.html">List and Tree Widgets</a></li></ul><a class="edit-page" href="https://github.com/JuliaGraphics/Gtk.jl/tree/03898000156ec4c99591295c0456ba360d81b438/docs/src/manual/listtreeview.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="List-and-Tree-Widgets-1" href="#List-and-Tree-Widgets-1">List and Tree Widgets</a></h1><p>The <code>GtkTreeView</code> is a very powerful widgets for displaying table-like or hierachical data. Other than the name might indicate the <code>GtkTreeView</code> is used for both lists and trees.</p><p>The power of this widget comes with a slightly more complex design that one has to understand when  using the widget. The most important thing is that the widget itself does not store the displayed data. Instead there are dedicated <code>GtkListStore</code> and <code>GtkTreeStore</code> containers that will hold the data. The benefit of this approach is that it is possible to decouple the view from the data:</p><ul><li><p>The widget automatically updates when adding, removing or editing data from the store</p></li><li><p>The widget can sort its data without modifications in the store</p></li><li><p>Columns can be reordered and resized</p></li><li><p>Filtering can be used to show only subsets of data</p></li></ul><p>We will in the following introduce both widgets based on small and a more complex example.</p><h2><a class="nav-anchor" id="List-Store-1" href="#List-Store-1">List Store</a></h2><p>Lets start with a very simple example: A table with three columns representing the name, the age and the gender of a person. Each column must have a specific type.  Here, we chose to represent the gender using a boolean value where <code>true</code>  represents female and <code>false</code> represents male. We thus initialize the list store using</p><pre><code class="language-julia">ls = @ListStore(String, Int, Bool)</code></pre><p>Now we will the store with data</p><pre><code class="language-julia">push!(ls,(&quot;Peter&quot;,20,false))
push!(ls,(&quot;Paul&quot;,30,false))
push!(ls,(&quot;Mary&quot;,25,true))</code></pre><p>If we want so insert the data at a specific position we can use the insert function</p><pre><code class="language-julia">insert!(ls, 2, (&quot;Susanne&quot;, 35, true))</code></pre><p>You can use <code>ls</code> like a matrix like container. Calling <code>length</code> and <code>size</code> will give you</p><pre><code class="language-julia">julia&gt; length(ls)
4

julia&gt; size(ls)
(4,3)</code></pre><p>Specific element can be be accessed using</p><pre><code class="language-julia">julia&gt; ls[1,1]
&quot;Peter&quot;
julia&gt; ls[1,1] = &quot;Pete&quot;
&quot;Pete&quot;</code></pre><h2><a class="nav-anchor" id="List-View-1" href="#List-View-1">List View</a></h2><p>Now we actually want to display our data. To this end we create a tree view object</p><pre><code class="language-julia">tv = @TreeView(TreeModel(ls))</code></pre><p>Then we need specific renderers for each of the columns. Usually you will only need a text renderer, but in our example we want to display the boolean value using a checkbox.</p><pre><code class="language-julia">rTxt = @CellRendererText()
rTog = @CellRendererToggle()</code></pre><p>Finally we create for each column a <code>TreeViewColumn</code> object</p><pre><code class="language-julia">c1 = @TreeViewColumn(&quot;Name&quot;, rTxt, Dict([(&quot;text&quot;,0)]))
c2 = @TreeViewColumn(&quot;Age&quot;, rTxt, Dict([(&quot;text&quot;,1)]))
c3 = @TreeViewColumn(&quot;Female&quot;, rTog, Dict([(&quot;active&quot;,2)]))</code></pre><p>We need to push these column description objects to the tree view</p><pre><code class="language-julia">push!(tv, c1, c2, c3)</code></pre><p>Then we can display the tree view widget in a window</p><pre><code class="language-julia">win = @Window(tv, &quot;List View&quot;)
showall(win)</code></pre><p><img src="../assets/listview1.jpg" alt="listview1"/></p><p>TODO</p><h2><a class="nav-anchor" id="selection-1" href="#selection-1">selection</a></h2><p>selmodel = G_.selection(tv) @test hasselection(selmodel) == false select!(selmodel, Gtk.iter_from_index(ls, 1)) @test hasselection(selmodel) == true iter = selected(selmodel) @test ls[iter, 1] == 44 deleteat!(ls, iter) @test isvalid(ls, iter) == false</p><p>tmSorted=@TreeModelSort(ls) G_.model(tv,tmSorted) G_.sort_column_id(TreeSortable(tmSorted),0,GtkSortType.ASCENDING) it = convert_child_iter_to_iter(tmSorted,Gtk.iter_from_index(ls, 1)) select!(selmodel, it) iter = selected(selmodel) @test TreeModel(tmSorted)[iter, 1] == 35</p><p>destroy(w)</p><h2><a class="nav-anchor" id="Tree-Widget-1" href="#Tree-Widget-1">Tree Widget</a></h2><p>TODO</p><footer><hr/><a class="previous" href="combobox.html"><span class="direction">Previous</span><span class="title">Combobox</span></a><a class="next" href="filedialogs.html"><span class="direction">Next</span><span class="title">File Dialogs</span></a></footer></article></body></html>
