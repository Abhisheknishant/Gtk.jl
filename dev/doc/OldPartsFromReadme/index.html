<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>- · Gtk.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../"><img class="logo" src="../../assets/logo.png" alt="Gtk.jl logo"/></a><h1>Gtk.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../../manual/gettingStarted/">Getting Started</a></li><li><a class="toctext" href="../../manual/properties/">Properties</a></li><li><a class="toctext" href="../../manual/layout/">Layout</a></li><li><a class="toctext" href="../../manual/signals/">Signals and Callbacks</a></li><li><a class="toctext" href="../../manual/builder/">Builder and Glade</a></li><li><a class="toctext" href="../../manual/textwidgets/">Text Widgets</a></li><li><a class="toctext" href="../../manual/combobox/">Combobox</a></li><li><a class="toctext" href="../../manual/listtreeview/">List and Tree Widgets</a></li><li><a class="toctext" href="../../manual/filedialogs/">Dialogs</a></li><li><a class="toctext" href="../../manual/keyevents/">Key Events</a></li><li><a class="toctext" href="../../manual/canvas/">Drawing on Canvas</a></li><li><a class="toctext" href="../../manual/customWidgets/">Custom/Composed Widgets</a></li><li><a class="toctext" href="../../manual/async/">Asynchronous UI</a></li><li><a class="toctext" href="../../manual/nonreplusage/">Non REPL Usage</a></li><li><a class="toctext" href="../../manual/packages/">High-Level Packages</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>-</a></li></ul><a class="edit-page" href="https://github.com/JuliaGraphics/Gtk.jl/blob/master/docs/src/doc/OldPartsFromReadme.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>-</span><a class="fa fa-bars" href="#"></a></div></header><h3><a class="nav-anchor" id="Adding-and-removing-objects-1" href="#Adding-and-removing-objects-1">Adding and removing objects</a></h3><p>Many widgets in Gtk can act as containers: for example, windows contain other widgets. New objects are created in &quot;isolation,&quot; and attached to their parent containers using <code>push!</code>.</p><p>For example, let&#39;s add a frame:</p><pre><code class="language-jl">    f = @Frame(&quot;A frame&quot;)</code></pre><p>If you check your window, you won&#39;t see anything. That&#39;s because the frame has not yet been associated with any container. Let&#39;s do that and see what happens:</p><pre><code class="language-jl">    push!(win, f)
    showall(win)</code></pre><p><img src="../figures/frame.png" alt="window"/></p><p>Note the <code>showall</code>, which is required to get the display to update with your changes. In some of the examples below, we&#39;ll omit this step, but you should call <code>showall</code> any time you want to see the window in its current state.</p><p>Let&#39;s add a button:</p><pre><code class="language-jl">    ok = @Button(&quot;OK&quot;)
    push!(f, ok)
    showall(win)</code></pre><p><img src="../figures/okbutton.png" alt="window"/></p><p>We can remove our <code>ok</code> button from the frame:</p><pre><code class="language-jl">    delete!(f, ok)</code></pre><p>(You can verify that it doesn&#39;t show in the window anymore.) However, <code>ok</code> still exists, and you can put it somewhere else if you wish.</p><p>&quot;Container&quot; objects can also be initialized to contain a child:</p><pre><code class="language-jl">    ok = @Button(&quot;OK&quot;)
    frame = @Frame(ok, &quot;A frame&quot;)
    win = @Window(frame, &quot;My window&quot;)</code></pre><p>This only works to add a single (or the first) child of a container.</p><h4><a class="nav-anchor" id="Inspecting-and-manipulating-the-graphics-hierarchy-1" href="#Inspecting-and-manipulating-the-graphics-hierarchy-1">Inspecting and manipulating the graphics hierarchy</a></h4><p>We can get the parent object:</p><pre><code class="language-jl">    julia&gt; parent(hbox)
    GtkFrameLeaf(name=...</code></pre><p>Calling <code>parent</code> on a top-level object yields an error, but you can check to see if the object has a parent using <code>hasparent</code>.</p><p>Likewise, it&#39;s possible to get the children:</p><pre><code class="language-jl">    for child in hbox
        println(get_gtk_property(child,:label,String))
    end</code></pre><h3><a class="nav-anchor" id="Specific-graphical-elements-1" href="#Specific-graphical-elements-1">Specific graphical elements</a></h3><h4><a class="nav-anchor" id="Scales-1" href="#Scales-1">Scales</a></h4><p>Above we showed how to create a <code>Scale</code> (slider) object. If you examine the <code>Scale</code>&#39;s <a href="https://developer.gnome.org/gtk3/stable/GtkScale.html#GtkScale.properties">properties</a>, you might be surprised to not see any that deal with its value or range of acceptable values. This is because a <code>Scale</code> contains another more basic type, <code>Adjustment</code>, responsible for holding these properties:</p><pre><code class="language-jl">    sc = @Scale(false,0:10)   # range in integer steps, from 0 to 10
    adj = @Adjustment(sc)
    set_gtk_property!(adj,:upper,11)         # now this scale goes to 11!
    set_gtk_property!(adj,:value,7)
    win = @Window(sc,&quot;Scale&quot;) |&gt; showall</code></pre><p><img src="../figures/scale.png" alt="scale"/></p><h4><a class="nav-anchor" id="Menus-1" href="#Menus-1">Menus</a></h4><p>In Gtk, the core element is the <code>MenuItem</code>. Let&#39;s say we want to create a file menu; we might begin by creating the item:</p><pre><code class="language-jl">    file = @MenuItem(&quot;_File&quot;)</code></pre><p>The underscore in front of the &quot;F&quot; means that we will be able to select this item using <code>Alt+F</code>. The file menu will have items inside of it, of course, so let&#39;s create a submenu associated with this item:</p><pre><code class="language-jl">    filemenu = @Menu(file)</code></pre><p>Now let&#39;s populate it with entries:</p><pre><code class="language-jl">    new_ = @MenuItem(&quot;New&quot;)
    push!(filemenu, new_)
    open_ = @MenuItem(&quot;Open&quot;)
    push!(filemenu, open_)
    push!(filemenu, @SeparatorMenuItem())
    quit = @MenuItem(&quot;Quit&quot;)
    push!(filemenu, quit)</code></pre><p>Finally, let&#39;s place our file item inside another type of menu, the <code>MenuBar</code>:</p><pre><code class="language-jl">    mb = @MenuBar()
    push!(mb, file)  # notice this is the &quot;File&quot; item, not filemenu
    win = @Window(mb, &quot;Menus&quot;, 200, 40)
    showall(mb)</code></pre><p><img src="../figures/menu.png" alt="menu"/></p><h4><a class="nav-anchor" id="Popup-menus-1" href="#Popup-menus-1">Popup menus</a></h4><p>We can create a canvas that, when right clicked, reveals a context menu:</p><pre><code class="language-jl">    using Gtk.ShortNames, Base.Graphics
    # Fill a canvas with red
    c = @Canvas()
    win = @Window(c, &quot;Canvas&quot;)
    draw(c) do widget
        ctx = getgc(c)
        set_source_rgb(ctx, 1, 0, 0)
        paint(ctx)
    end
    # Define the popup menu
    popupmenu = @Menu()
    printcolor = @MenuItem(&quot;Print color&quot;)
    push!(popupmenu, printcolor)
    push!(popupmenu, @MenuItem(&quot;Do nothing&quot;))
    # This next line is crucial: otherwise your popup menu shows as a thin bar
    showall(popupmenu)
    # Associate actions with right-click and selection
    c.mouse.button3press = (widget,event) -&gt; popup(popupmenu, event)
    signal_connect(printcolor, :activate) do widget
        println(&quot;Red!&quot;)
    end
    showall(win)</code></pre><p><img src="../figures/popup.png" alt="popupmenu"/></p><footer><hr/></footer></article></body></html>
